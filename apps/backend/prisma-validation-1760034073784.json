{
  "timestamp": "2025-10-09T18:20:48.127Z",
  "checks": {
    "migrationsVsSchema": {
      "passed": true,
      "message": "Migrations successfully applied to fresh database",
      "details": {
        "status": "Prisma schema loaded from prisma/schema.prisma\nDatasource \"db\": MySQL database \"prisma_validation_1760034048126\" at \"localhost:3325\"\n\n149 migrations found in prisma/migrations\n\nDatabase schema is up to date!\n"
      }
    },
    "schemaVsDatabase": {
      "passed": true,
      "message": "Schema matches the database structure"
    },
    "migrationHistory": {
      "passed": false,
      "message": "Failed to check migration history: Command failed: npx prisma migrate status\nCommand failed: npx prisma migrate status\nwarn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).\nFor more information, see: https://pris.ly/prisma-config\n\nEnvironment variables loaded from .env\nYour local migration history and the migrations table from your database are different:\n\nThe last common migration is: 20251009093234_assign_lines_admin_to_super_admin\n\nThe migration have not yet been applied:\n20251009201949_add_timetable_sync_permissions\n\nThe migrations from the database are not found locally in prisma/migrations:\n20250925145615_add_administration_menu_permission\n20251008093842_add_main_server_central_points_permissions\n20251009070024_sync_time_defaults\n20251009074022_remove_duplicate_indexes\n20251009074510_add_price_table_groups_index\n",
      "details": {
        "error": "Command failed: npx prisma migrate status\nCommand failed: npx prisma migrate status\nwarn The configuration property `package.json#prisma` is deprecated and will be removed in Prisma 7. Please migrate to a Prisma config file (e.g., `prisma.config.ts`).\nFor more information, see: https://pris.ly/prisma-config\n\nEnvironment variables loaded from .env\nYour local migration history and the migrations table from your database are different:\n\nThe last common migration is: 20251009093234_assign_lines_admin_to_super_admin\n\nThe migration have not yet been applied:\n20251009201949_add_timetable_sync_permissions\n\nThe migrations from the database are not found locally in prisma/migrations:\n20250925145615_add_administration_menu_permission\n20251008093842_add_main_server_central_points_permissions\n20251009070024_sync_time_defaults\n20251009074022_remove_duplicate_indexes\n20251009074510_add_price_table_groups_index\n"
      }
    }
  },
  "summary": {
    "allPassed": false,
    "recommendation": "⚠️  Issues detected. Recommended actions:\n   - Fix migration history issues first"
  }
}